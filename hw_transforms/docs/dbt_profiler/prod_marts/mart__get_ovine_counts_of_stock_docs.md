{% docs mart__get_ovine_counts_of_stock %}
| column_name                    | data_type    | row_count | not_null_proportion | distinct_count | is_unique | profiled_at                 |
| ------------------------------ | ------------ | --------- | ------------------- | -------------- | --------- | --------------------------- |
| db_name                        | varchar      |   213,838 |                   1 |              4 |     False | 2024-02-15 16:38:32.293 UTC |
| reconciliation_month           | timestamp(6) |   213,838 |                   1 |             62 |     False | 2024-02-15 16:38:32.293 UTC |
| farm_id                        | varchar      |   213,838 |                   1 |           3449 |     False | 2024-02-15 16:38:32.293 UTC |
| under_6_start_of_month         | bigint       |   213,838 |                   1 |            686 |     False | 2024-02-15 16:38:32.293 UTC |
| under_6_born_in_month          | bigint       |   213,838 |                   1 |            438 |     False | 2024-02-15 16:38:32.293 UTC |
| under_6_bought_in_month        | bigint       |   213,838 |                   1 |             88 |     False | 2024-02-15 16:38:32.293 UTC |
| under_6_sold_in_month          | bigint       |   213,838 |                   1 |            149 |     False | 2024-02-15 16:38:32.293 UTC |
| under_6_died_in_month          | bigint       |   213,838 |                   1 |              1 |     False | 2024-02-15 16:38:32.293 UTC |
| under_6_end_of_month           | bigint       |   213,838 |                   1 |            686 |     False | 2024-02-15 16:38:32.293 UTC |
| under_6_net_transfer           | bigint       |   213,838 |                   1 |            434 |     False | 2024-02-15 16:38:32.293 UTC |
| between_7_12_start_of_month    | bigint       |   213,838 |                   1 |            572 |     False | 2024-02-15 16:38:32.293 UTC |
| between_7_12_bought_in_month   | bigint       |   213,838 |                   1 |             65 |     False | 2024-02-15 16:38:32.293 UTC |
| between_7_12_sold_in_month     | bigint       |   213,838 |                   1 |            143 |     False | 2024-02-15 16:38:32.293 UTC |
| between_7_12_died_in_month     | bigint       |   213,838 |                   1 |              1 |     False | 2024-02-15 16:38:32.293 UTC |
| between_7_12_end_of_month      | bigint       |   213,838 |                   1 |            571 |     False | 2024-02-15 16:38:32.293 UTC |
| between_7_12_net_transfer      | bigint       |   213,838 |                   1 |            736 |     False | 2024-02-15 16:38:32.293 UTC |
| male_over_13_start_of_month    | bigint       |   213,838 |                   1 |            170 |     False | 2024-02-15 16:38:32.293 UTC |
| male_over_13_bought_in_month   | bigint       |   213,838 |                   1 |             17 |     False | 2024-02-15 16:38:32.293 UTC |
| male_over_13_sold_in_month     | bigint       |   213,838 |                   1 |             38 |     False | 2024-02-15 16:38:32.293 UTC |
| male_over_13_died_in_month     | bigint       |   213,838 |                   1 |              1 |     False | 2024-02-15 16:38:32.293 UTC |
| male_over_13_end_of_month      | bigint       |   213,838 |                   1 |            169 |     False | 2024-02-15 16:38:32.293 UTC |
| male_over_13_net_transfer      | bigint       |   213,838 |                   1 |             77 |     False | 2024-02-15 16:38:32.293 UTC |
| rams_start_of_month            | bigint       |   213,838 |                   1 |             22 |     False | 2024-02-15 16:38:32.293 UTC |
| rams_bought_in_month           | bigint       |   213,838 |                   1 |             12 |     False | 2024-02-15 16:38:32.293 UTC |
| rams_sold_in_month             | bigint       |   213,838 |                   1 |              5 |     False | 2024-02-15 16:38:32.293 UTC |
| rams_died_in_month             | bigint       |   213,838 |                   1 |              1 |     False | 2024-02-15 16:38:32.293 UTC |
| rams_end_of_month              | bigint       |   213,838 |                   1 |             22 |     False | 2024-02-15 16:38:32.293 UTC |
| rams_net_transfer              | bigint       |   213,838 |                   1 |             12 |     False | 2024-02-15 16:38:32.293 UTC |
| breeding_female_over_13_sta... | bigint       |   213,838 |                   1 |            982 |     False | 2024-02-15 16:38:32.293 UTC |
| breeding_female_over_13_bou... | bigint       |   213,838 |                   1 |            128 |     False | 2024-02-15 16:38:32.293 UTC |
| breeding_female_over_13_sol... | bigint       |   213,838 |                   1 |             99 |     False | 2024-02-15 16:38:32.293 UTC |
| breeding_female_over_13_die... | bigint       |   213,838 |                   1 |              1 |     False | 2024-02-15 16:38:32.293 UTC |
| breeding_female_over_13_end... | bigint       |   213,838 |                   1 |            981 |     False | 2024-02-15 16:38:32.293 UTC |
| breeding_female_over_13_net... | bigint       |   213,838 |                   1 |            334 |     False | 2024-02-15 16:38:32.293 UTC |
| non_breeding_female_over_13... | bigint       |   213,838 |                   1 |            140 |     False | 2024-02-15 16:38:32.293 UTC |
| non_breeding_female_over_13... | bigint       |   213,838 |                   1 |             32 |     False | 2024-02-15 16:38:32.293 UTC |
| non_breeding_female_over_13... | bigint       |   213,838 |                   1 |             52 |     False | 2024-02-15 16:38:32.293 UTC |
| non_breeding_female_over_13... | bigint       |   213,838 |                   1 |              1 |     False | 2024-02-15 16:38:32.293 UTC |
| non_breeding_female_over_13... | bigint       |   213,838 |                   1 |            140 |     False | 2024-02-15 16:38:32.293 UTC |
| non_breeding_female_over_13... | bigint       |   213,838 |                   1 |             48 |     False | 2024-02-15 16:38:32.293 UTC |
| missing_sex_over_13_start_o... | bigint       |   213,838 |                   1 |            128 |     False | 2024-02-15 16:38:32.293 UTC |
| missing_sex_over_13_bought_... | bigint       |   213,838 |                   1 |              8 |     False | 2024-02-15 16:38:32.293 UTC |
| missing_sex_over_13_sold_in... | bigint       |   213,838 |                   1 |             49 |     False | 2024-02-15 16:38:32.293 UTC |
| missing_sexover_13_died_in_... | bigint       |   213,838 |                   1 |              1 |     False | 2024-02-15 16:38:32.293 UTC |
| missing_sex_over_13_end_of_... | bigint       |   213,838 |                   1 |            128 |     False | 2024-02-15 16:38:32.293 UTC |
| missing_sex_over_13_net_tra... | bigint       |   213,838 |                   1 |             88 |     False | 2024-02-15 16:38:32.293 UTC |

# **Ovine stock reconciliation Documentation** 
## 1. Calc Rules    
To be included into this table the animals must satisfy the below criteria   
The animal :

-  dob must **NOT** be equal to ```1970-01-01```
-  offherd date must **NOT** be equal to ```1970-01-01```
-  moved in date must **NOT** be equal to ```1970-01-01```
-  date of death must **NOT** be equal to ```1970-01-01```
-  type of Species **MUST BE** equal to ```OVINE```


## 2. Category  Calculation Rules

### Initial animal categories
* 0-6
	* diff in ```dob``` and ```calc month``` is between 0-6
	* ***AND*** ( ```calc month``` >= ```move in date``` **OR** ```move in date is null```  **OR** ```dob = move in date```)
	* ***AND***( ```off herd date``` > ```calc date``` **OR** ```off herd date is null```)
* 7-12
	* diff in ```dob``` and ```calc month``` is between 7-12
	* ```calc month``` >= ```move in date``` **OR** ```move in date is null```  **OR** ```dob = move in date```
	* ```off herd date``` > ```calc date``` or ```off herd date is null```
* 13+
    * diff in ```dob``` and ```calc month``` is >= 13
	* ***AND*** (```calc month``` >= ```move in date``` **OR** ```move in date is null```  **OR** ```dob = move in date```)
	* ***AND*** (```off herd date``` > ```calc date``` **OR** ```off herd date is null```)
* stock_ram
    * ```stock_ram``` = 1 . Animal is marked as stock ram in app.
	* ***AND*** ( ```calc month``` >= ```move in date``` **OR** ```move in date is null```  **OR** ```dob = move in date```)
	* ***AND*** ( ```off herd date``` > ```calc date``` **OR** ```off herd date is null```)



### Rules for calculating sums within each subcategory(all items are AND)
* start of month
	* calc month > month of dob date
	* ***AND*** (calc month > month(```move in date```) **OR** ```move in date``` is null)
* born in month
	 * dob in calc month
	 * ***AND*** (```move in date``` = ```dob``` or ```move in date``` is null)
* bought in month
	* ```move in date``` in calc month
	* ***AND*** (```move in date``` != ```dob``` or ```move in date``` is null)
* sold in month
	* ```off herd date```in calc month
	* ***AND*** (```off herd date``` != ```dod```or ```dod``` is null)
* died in month
	* ```dod``` in calc month 
	



{% enddocs %}